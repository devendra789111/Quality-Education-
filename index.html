<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>राजस्थान चतुर्थ श्रेणी परीक्षा 2025</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
        }
        .container {
            width: 80%;
            border: 2px solid #000;
            padding: 20px;
            box-sizing: border-box;
        }
        .header {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-transform: uppercase;
        }
        .top-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 14px;
        }
        .instructions, .marks-time {
            width: 45%;
        }
        .line {
            border-top: 2px solid #000;
            margin: 20px 0;
        }
        .question-section {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .question-column {
            width: 48%;
        }
        .question {
            margin-bottom: 15px;
        }
        .options {
            margin-left: 20px;
        }
        .button-container {
            text-align: center;
            margin-top: 50px;
        }
        .start-button, .admin-button, .download-button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 10px;
        }
        .admin-form {
            display: none;
            margin-top: 20px;
        }
        .admin-form input, .admin-form textarea {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            font-size: 16px;
        }
        .delete-button {
            background-color: #ff0000;
            color: white;
            border: none;
            padding: 5px 10px;
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div class="button-container" id="button-container">
    <button class="start-button" onclick="startPaper()">पेपेर प्रारंभ करें</button>
    <button class="admin-button" onclick="toggleAdminForm()">एडमिन पैनल</button>
    <button class="download-button" onclick="downloadPDF()">पेपर डाउनलोड करें</button>
</div>

<div class="container" id="paper-container" style="display:none;">
    <div class="header" id="headline">राजस्थान चतुर्थ श्रेणी परीक्षा 2025</div>

    <div class="top-info">
        <div class="instructions" id="exam-instructions">
            <strong>निर्देश:</strong><br>
            1. सभी प्रश्नों के उत्तर दें।<br>
            2. हर प्रश्न के लिए केवल एक सही विकल्प चुनें।<br>
            3. समय सीमा का पालन करें।
        </div>
        <div class="marks-time" id="exam-time">
            <strong>समय:</strong> 2 घंटे
        </div>
    </div>

    <!-- Line separator -->
    <div class="line"></div>

    <div id="questions">
        <!-- Questions will be inserted here -->
    </div>
</div>

<div class="admin-form" id="admin-form">
    <h2>एडमिन पैनल</h2>

    <label for="new-headline">नई हेडलाइन:</label>
    <input type="text" id="new-headline" placeholder="नई हेडलाइन दर्ज करें">

    <label for="new-instructions">नई दिशा निर्देश:</label>
    <textarea id="new-instructions" rows="4" placeholder="नई दिशा निर्देश लिखें"></textarea>

    <label for="new-time">समय:</label>
    <input type="text" id="new-time" placeholder="समय दर्ज करें">

    <h3>नया प्रश्न जोड़ें:</h3>
    <label for="new-question">प्रश्न:</label>
    <input type="text" id="new-question" placeholder="प्रश्न लिखें">

    <label for="option-a">विकल्प A:</label>
    <input type="text" id="option-a" placeholder="विकल्प A">

    <label for="option-b">विकल्प B:</label>
    <input type="text" id="option-b" placeholder="विकल्प B">

    <label for="option-c">विकल्प C:</label>
    <input type="text" id="option-c" placeholder="विकल्प C">

    <label for="option-d">विकल्प D:</label>
    <input type="text" id="option-d" placeholder="विकल्प D">

    <button onclick="updateHeadline()">हेडलाइन बदलें</button>
    <button onclick="updateInstructions()">दिशा निर्देश बदलें</button>
    <button onclick="updateTime()">समय बदलें</button>
    <button onclick="addNewQuestion()">नया प्रश्न जोड़ें</button>
</div>

<script>
let questionIndex = 1;  // To keep track of the question number
let questionsArray = JSON.parse(localStorage.getItem('questions')) || [
    {question: "राजस्थान का पहला राजा कौन था?", options: ["प्रत्यावेदन", "महाराणा प्रताप", "अजयमेर सिंह", "भगवान दास"]},
    {question: "राजस्थान का राजधानी कौन सा है?", options: ["जयपुर", "उदयपुर", "जोधपुर", "कोटा"]},
    {question: "राजस्थान का सबसे बड़ा झील कौन सा है?", options: ["सांभर झील", "पिचोला झील", "कंकरवा झील", "फतेहसागर झील"]},
    {question: "राजस्थान का प्रमुख लोक नृत्य कौन सा है?", options: ["कथक", "घूमर", "भरतनाट्यम", "ओडिसी"]},
    // Add more questions to make it 50
];

function startPaper() {
    document.getElementById('button-container').style.display = 'none';
    document.getElementById('paper-container').style.display = 'block';
    loadQuestions();
}

function toggleAdminForm() {
    const form = document.getElementById('admin-form');
    form.style.display = form.style.display === 'block' ? 'none' : 'block';
}

function loadQuestions() {
    const questionsDiv = document.getElementById('questions');

    // Clear the previous questions
    questionsDiv.innerHTML = '';

    // Create two columns for questions
    let leftColumn = document.createElement('div');
    let rightColumn = document.createElement('div');
    leftColumn.className = 'question-column';
    rightColumn.className = 'question-column';

    // Add questions to the columns
    questionsArray.forEach((item, index) => {
        const questionBlock = document.createElement('div');
        questionBlock.className = 'question';
        questionBlock.innerHTML = `
            <div><strong>प्रश्न ${index + 1}:</strong> ${item.question}</div>
            <div class="options">
                <label><input type="radio" name="q${index + 1}" value="a"> ${item.options[0]}</label><br>
                <label><input type="radio" name="q${index + 1}" value="b"> ${item.options[1]}</label><br>
                <label><input type="radio" name="q${index + 1}" value="c"> ${item.options[2]}</label><br>
                <label><input type="radio" name="q${index + 1}" value="d"> ${item.options[3]}</label><br>
            </div>
            <button class="delete-button" onclick="deleteQuestion(${index})">हटाएं</button>
        `;
        
        // Distribute questions between left and right columns
        if ((index + 1) % 2 === 1) {
            leftColumn.appendChild(questionBlock);
        } else {
            rightColumn.appendChild(questionBlock);
        }
    });

    const questionSection = document.createElement('div');
    questionSection.className = 'question-section';
    questionSection.appendChild(leftColumn);
    questionSection.appendChild(rightColumn);
    questionsDiv.appendChild(questionSection);
}

function updateHeadline() {
    const newHeadline = document.getElementById('new-headline').value;
    if (newHeadline) {
        document.getElementById('headline').textContent = newHeadline;
        document.getElementById('new-headline').value = ''; // Clear input field
    } else {
        alert("कृपया नई हेडलाइन दर्ज करें!");
    }
}

function updateInstructions() {
    const newInstructions = document.getElementById('new-instructions').value;
    if (newInstructions) {
        document.getElementById('exam-instructions').innerHTML = newInstructions;
        document.getElementById('new-instructions').value = ''; // Clear input field
    } else {
        alert("कृपया नई दिशा निर्देश दर्ज करें!");
    }
}

function updateTime() {
    const newTime = document.getElementById('new-time').value;
    if (newTime) {
        document.getElementById('exam-time').textContent = `समय: ${newTime}`;
        document.getElementById('new-time').value = ''; // Clear input field
    } else {
        alert("कृपया नया समय दर्ज करें!");
    }
}

function addNewQuestion() {
    const questionText = document.getElementById('new-question').value;
    const optionA = document.getElementById('option-a').value;
    const optionB = document.getElementById('option-b').value;
    const optionC = document.getElementById('option-c').value;
    const optionD = document.getElementById('option-d').value;

    if (questionText && optionA && optionB && optionC && optionD) {
        // Add the new question to the array
        questionsArray.push({question: questionText, options: [optionA, optionB, optionC, optionD]});
        
        // Save to localStorage
        localStorage.setItem('questions', JSON.stringify(questionsArray));

        // Clear the inputs
        document.getElementById('new-question').value = '';
        document.getElementById('option-a').value = '';
        document.getElementById('option-b').value = '';
        document.getElementById('option-c').value = '';
        document.getElementById('option-d').value = '';

        // Reload the questions
        loadQuestions();

        alert("नया प्रश्न जोड़ दिया गया है!");
    } else {
        alert("कृपया सभी फ़ील्ड भरें!");
    }
}

function deleteQuestion(index) {
    // Remove the question from the questions array
    questionsArray.splice(index, 1);
    
    // Save to localStorage
