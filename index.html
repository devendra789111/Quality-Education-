<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exam Form with Admit Card Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #83a4d4, #b6fbff);
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    form, #admitCard {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      max-width: 700px;
      margin: 20px auto;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #admitCard {
      display: none;
      margin-top: 30px;
      text-align: left;
    }
    #admitCard img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border: 1px solid #ccc;
      margin: 10px;
    }
    .photo-sign {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    .btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn:hover {
      background: #2980b9;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    table, th, td {
      border: 1px solid black;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
  </style>
</head>
<body><h1>Exam Form</h1><form id="examForm">
  <label>Name:</label>
  <input type="text" id="name" required><label>Mobile Number:</label> <input type="text" id="mobile" required>

<label>City:</label> <input type="text" id="city" required>

<label>District:</label> <input type="text" id="district" required>

<label>State:</label> <input type="text" id="state" required>

<label>Photo Upload:</label> <input type="file" id="photo" accept="image/*" required>

<label>Signature Upload:</label> <input type="file" id="sign" accept="image/*" required>

<button type="submit" class="btn">Generate Admit Card</button>

</form><div id="admitCard">
  <h2>Admit Card</h2>
  <div class="photo-sign">
    <div>
      <p><strong>Photo:</strong></p>
      <img id="previewPhoto">
    </div>
    <div>
      <p><strong>Sign:</strong></p>
      <img id="previewSign">
    </div>
  </div>
  <table>
    <tr><th>Name</th><td id="acName"></td></tr>
    <tr><th>Mobile</th><td id="acMobile"></td></tr>
    <tr><th>City</th><td id="acCity"></td></tr>
    <tr><th>District</th><td id="acDistrict"></td></tr>
    <tr><th>State</th><td id="acState"></td></tr>
    <tr><th>Roll No.</th><td id="acRoll"></td></tr>
    <tr><th>Exam Date</th><td id="acDate"></td></tr>
    <tr><th>Exam Time</th><td id="acTime"></td></tr>
    <tr><th>Exam Center</th><td id="acCenter"></td></tr>
  </table><button onclick="downloadPDF()" class="btn">Download Admit Card</button>

</div><script>
function randomRoll() {
  return Math.floor(100000 + Math.random() * 900000);
}

function randomDate() {
  const start = new Date();
  const end = new Date(2025, 5, 30);
  const date = new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
  return date.toISOString().split('T')[0];
}

function randomTime() {
  const times = ['10:00 AM', '12:00 PM', '02:00 PM', '04:00 PM'];
  return times[Math.floor(Math.random() * times.length)];
}

function randomCenter() {
  const centers = ['Center A', 'Center B', 'Center C', 'Center D'];
  return centers[Math.floor(Math.random() * centers.length)];
}

const examForm = document.getElementById('examForm');
examForm.addEventListener('submit', function(e) {
  e.preventDefault();

  document.getElementById('acName').innerText = document.getElementById('name').value;
  document.getElementById('acMobile').innerText = document.getElementById('mobile').value;
  document.getElementById('acCity').innerText = document.getElementById('city').value;
  document.getElementById('acDistrict').innerText = document.getElementById('district').value;
  document.getElementById('acState').innerText = document.getElementById('state').value;
  document.getElementById('acRoll').innerText = randomRoll();
  document.getElementById('acDate').innerText = randomDate();
  document.getElementById('acTime').innerText = randomTime();
  document.getElementById('acCenter').innerText = randomCenter();

  const photoFile = document.getElementById('photo').files[0];
  const signFile = document.getElementById('sign').files[0];

  const reader1 = new FileReader();
  reader1.onload = function(e) {
    document.getElementById('previewPhoto').src = e.target.result;
  }
  reader1.readAsDataURL(photoFile);

  const reader2 = new FileReader();
  reader2.onload = function(e) {
    document.getElementById('previewSign').src = e.target.result;
  }
  reader2.readAsDataURL(signFile);

  document.getElementById('admitCard').style.display = 'block';
});

function downloadPDF() {
  const element = document.getElementById('admitCard');

  const imagesLoaded = () => {
    return new Promise((resolve) => {
      let total = 2, count = 0;
      function check() {
        count++;
        if (count === total) resolve();
      }

      const photo = document.getElementById('previewPhoto');
      const sign = document.getElementById('previewSign');

      if (photo.complete) { check(); } else { photo.onload = check; }
      if (sign.complete) { check(); } else { sign.onload = check; }
    });
  };

  imagesLoaded().then(() => {
    var opt = {
      margin: 0.5,
      filename: 'Admit_Card.pdf',
      image: { type: 'jpeg', quality: 1 },
      html2canvas: { scale: 4 },
      jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
    };

    html2pdf().from(element).set(opt).save();
  });
}
</script></body>
  </html>
